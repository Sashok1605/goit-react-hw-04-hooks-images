(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{26:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(8),o=c.n(r),i=c(12),s=c(4),u=(c(26),c(11)),l=c.n(u);l.a.defaults.baseURL="https://pixabay.com/api/";var j=c(1),b=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button"}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.currentTarget.value.toLowerCase().trim();o(t)}})]})})},m=function(e){e.picturesId;var t=e.srcWebformat,c=e.onClick;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:c,children:Object(j.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image"})})},d=function(e){var t=e.children;return Object(j.jsx)("ul",{className:"ImageGallery",children:t})},f=function(e){var t=e.onClick;return Object(j.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})},h=c(21),O=c.n(h),p=(c(66),function(){return Object(j.jsx)(O.a,{className:"Loader",type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:4e3})}),g=document.querySelector("#modal-root");function v(e){var t=e.children,c=e.onClose,a=function(e){"Escape"===e.code&&c()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(r.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&c()},children:Object(j.jsx)("div",{className:"Modal",children:t})}),g)}var x=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),u=o[0],h=o[1],O=Object(n.useState)(""),g=Object(s.a)(O,2),x=g[0],S=g[1],y=Object(n.useState)(""),w=Object(s.a)(y,2),k=w[0],C=w[1],N=Object(n.useState)(null),I=Object(s.a)(N,2),L=I[0],E=I[1],F=Object(n.useState)(!1),T=Object(s.a)(F,2),q=T[0],B=T[1],G=Object(n.useState)(!1),R=Object(s.a)(G,2),U=R[0],z=R[1],D=function(){var e={page:u,query:x};z(!0),function(e){var t=e.query,c=void 0===t?"":t,n=e.page,a=void 0===n?1:n,r=e.pageSize,o=void 0===r?12:r;return l.a.get("/?key=".concat("23761306-59ca6a0f0608395e39c81a3c2","&q=").concat(c,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits}))}(e).then((function(e){return a([].concat(Object(i.a)(c),Object(i.a)(e)))}),h(u+1)).catch((function(e){return E(e)})).finally((function(){M(),z(!1)}))};Object(n.useEffect)((function(){x&&D()}),[x]);var J=function(){B((function(e){return!e}))},M=function(){console.log("page",u),u>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{onSubmit:function(e){S(e),h(1),a([]),E(null)}}),L&&Object(j.jsx)("p",{children:"Sorry! Somethimg went wrong. Try again, please!"}),Object(j.jsx)(d,{children:c.map((function(e){var t=e.id,c=e.webformatURL,n=e.largeImageURL;return Object(j.jsx)(m,{srcWebformat:c,onClick:function(){return C(n),void J()}},t)}))}),U&&Object(j.jsx)(p,{}),c.length>11&&!U&&Object(j.jsx)(f,{onClick:D}),q&&Object(j.jsx)(v,{onClose:J,children:Object(j.jsx)("img",{src:k,alt:""})})]})};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.daa4bfcb.chunk.js.map